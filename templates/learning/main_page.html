{% load static %}
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}SignLearn - H·ªçc Ng√¥n Ng·ªØ K√Ω Hi·ªáu{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/main_page.css' %}">
    {% block extra_css %}{% endblock %}
</head>
<body>
    <header class="header">
        <div class="logo">
            <div class="logo-icon">SL</div>
            <span class="logo-text">SignLearn</span>
        </div>
        <nav class="nav">
            <a href="{% url 'learning:main_page' %}" class="nav-item active">üè† Trang ch·ªß</a>
            <a href="{% url 'tutorials:tutorial_list' %}" class="nav-item">üìö H·ªçc t·∫≠p</a>
            <a href="{% url 'tutorials:practice_home' %}" class="nav-item">üß† Luy·ªán t·∫≠p</a>
            <a href="{% url 'recognition:home' %}" class="nav-item">ü§ñ AI</a>
            <a href="{% url 'accounts:profile' %}" class="nav-item">üìä Th·ªëng k√™</a>
        </nav>
        <div class="user-actions">
            <button class="notification-btn">üîî</button>
            {% if user.is_superuser %}
            <a href="/management/" class="admin-btn">
                <span class="admin-icon">‚öôÔ∏è</span>
                <span class="admin-text">Qu·∫£n l√Ω</span>
            </a>
            {% endif %}
            {% if user.userprofile.profile_picture %}
                <img src="{{ user.userprofile.profile_picture.url }}" alt="Profile Picture" class="user-avatar" id="profile-preview">
            {% else %}
                <div class="user-avatar bg-secondary text-white d-flex align-items-center justify-content: center;" id="profile-preview">
                    {{ user.username|first|upper }}
                </div>
            {% endif %}
            {% if user.is_authenticated %}
                <form action="{% url 'accounts:logout' %}" method="post" style="display: inline;">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-outline">ƒêƒÉng xu·∫•t</button>
                </form>
            {% endif %}
        </div>
    </header>

    <main class="main-content">
        <section class="welcome-section">
            <div class="welcome-message">
                <h1>Xin ch√†o, {{ user.get_full_name|default:user.username }}</h1>
                <p>Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi SignLearn</p>
            </div>
        </section>

        <section class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon purple">üìö</div>
                <div class="stat-content">
                    <h3>B√†i h·ªçc ho√†n th√†nh</h3>
                    <div class="stat-value">24 b√†i</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon blue">‚è∞</div>
                <div class="stat-content">
                    <h3>Th·ªùi gian h·ªçc</h3>
                    <div class="stat-value">12 gi·ªù</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon green">üèÜ</div>
                <div class="stat-content">
                    <h3>ƒêi·ªÉm th√†nh t√≠ch</h3>
                    <div class="stat-value">850 ƒëi·ªÉm</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon orange">üìÖ</div>
                <div class="stat-content">
                    <h3>Ng√†y h·ªçc li√™n ti·∫øp</h3>
                    <div class="stat-value">7 ng√†y</div>
                </div>
            </div>
        </section>

        <section class="features-grid">
            <a href="{% url 'tutorials:tutorial_list' %}" class="feature-card">
                <div class="feature-icon blue">üìñ</div>
                <div class="feature-content">
                    <h3>H·ªçc T·∫≠p Ng√¥n Ng·ªØ K√Ω Hi·ªáu</h3>
                    <p>B·∫Øt ƒë·∫ßu h·ªçc c√°c b√†i h·ªçc c∆° b·∫£n</p>
                </div>
            </a>
            <a href="{% url 'tutorials:practice_home' %}" class="feature-card">
                <div class="feature-icon green">üå±</div>
                <div class="feature-content">
                    <h3>Th·ª±c H√†nh Ng√¥n Ng·ªØ K√Ω Hi·ªáu</h3>
                    <p>Luy·ªán t·∫≠p v·ªõi c√°c b√†i t·∫≠p t∆∞∆°ng t√°c</p>
                </div>
            </a>
            <a href="{% url 'recognition:home' %}" class="feature-card">
                <div class="feature-icon purple">üé•</div>
                <div class="feature-content">
                    <h3>Nh·∫≠n Di·ªán Ng√¥n Ng·ªØ K√Ω Hi·ªáu</h3>
                    <p>Th·ª±c h√†nh nh·∫≠n di·ªán qua video</p>
                </div>
            </a>
            <a href="{% url 'accounts:profile' %}" class="feature-card">
                <div class="feature-icon orange">üë•</div>
                <div class="feature-content">
                    <h3>Qu·∫£n L√Ω Th√¥ng Tin C√° Nh√¢n</h3>
                    <p>C·∫≠p nh·∫≠t th√¥ng tin v√† c√†i ƒë·∫∑t</p>
                </div>
            </a>
        </section>

        <section class="bottom-section">
            <div class="chart-section">
                <h2 class="chart-title">Ti·∫øn Tr√¨nh H·ªçc T·∫≠p</h2>
                <div class="chart-container">
                    <svg width="100%" height="100%" viewBox="0 0 400 200">
                        <!-- Grid lines -->
                        <defs>
                            <pattern id="grid" width="40" height="20" patternUnits="userSpaceOnUse">
                                <path d="M 40 0 L 0 0 0 20" fill="none" stroke="#e2e8f0" stroke-width="1"/>
                            </pattern>
                        </defs>
                        <rect width="100%" height="100%" fill="url(#grid)" />
                        
                        <!-- Y-axis -->
                        <line x1="40" y1="20" x2="40" y2="160" stroke="#64748b" stroke-width="2"/>
                        
                        <!-- X-axis -->
                        <line x1="40" y1="160" x2="380" y2="160" stroke="#64748b" stroke-width="2"/>
                        
                        <!-- Y-axis labels -->
                        <text x="30" y="25" text-anchor="end" font-size="10" fill="#64748b">100%</text>
                        <text x="30" y="50" text-anchor="end" font-size="10" fill="#64748b">80%</text>
                        <text x="30" y="75" text-anchor="end" font-size="10" fill="#64748b">60%</text>
                        <text x="30" y="100" text-anchor="end" font-size="10" fill="#64748b">40%</text>
                        <text x="30" y="125" text-anchor="end" font-size="10" fill="#64748b">20%</text>
                        <text x="30" y="160" text-anchor="end" font-size="10" fill="#64748b">0%</text>
                        
                        <!-- X-axis labels -->
                        <text x="60" y="175" text-anchor="middle" font-size="10" fill="#64748b">T1</text>
                        <text x="100" y="175" text-anchor="middle" font-size="10" fill="#64748b">T2</text>
                        <text x="140" y="175" text-anchor="middle" font-size="10" fill="#64748b">T3</text>
                        <text x="180" y="175" text-anchor="middle" font-size="10" fill="#64748b">T4</text>
                        <text x="220" y="175" text-anchor="middle" font-size="10" fill="#64748b">T5</text>
                        <text x="260" y="175" text-anchor="middle" font-size="10" fill="#64748b">T6</text>
                        <text x="300" y="175" text-anchor="middle" font-size="10" fill="#64748b">T7</text>
                        <text x="340" y="175" text-anchor="middle" font-size="10" fill="#64748b">CN</text>
                        
                        <!-- Chart title -->
                        <!-- <text x="200" y="15" text-anchor="middle" font-size="12" fill="#1e293b" font-weight="600">ƒêi·ªÉm s·ªë h√†ng tu·∫ßn</text> -->
                        
                        <!-- Data line -->
                        <polyline
                            fill="none"
                            stroke="#3b82f6"
                            stroke-width="3"
                            points="60,140 100,120 140,130 180,115 220,105 260,95 300,115 340,100"
                        />
                        
                        <!-- Data points -->
                        <circle cx="60" cy="140" r="4" fill="#3b82f6"/>
                        <circle cx="100" cy="120" r="4" fill="#3b82f6"/>
                        <circle cx="140" cy="130" r="4" fill="#3b82f6"/>
                        <circle cx="180" cy="115" r="4" fill="#3b82f6"/>
                        <circle cx="220" cy="105" r="4" fill="#3b82f6"/>
                        <circle cx="260" cy="95" r="4" fill="#3b82f6"/>
                        <circle cx="300" cy="115" r="4" fill="#3b82f6"/>
                        <circle cx="340" cy="100" r="4" fill="#3b82f6"/>
                        
                        <!-- Axis labels -->
                        <!-- <text x="200" y="195" text-anchor="middle" font-size="11" fill="#64748b">Ng√†y trong tu·∫ßn</text> -->
                        <!-- <text x="15" y="90" text-anchor="middle" font-size="11" fill="#64748b" transform="rotate(-90, 15, 90)">ƒêi·ªÉm s·ªë (%)</text> -->
                    </svg>
                </div>
            </div>

            <div class="recent-lessons">
                <h2 class="lessons-title">B√†i H·ªçc G·∫ßn ƒê√¢y</h2>
                <div class="lesson-item">
                    <div class="lesson-info">
                        <h4>Ch·ªØ c√°i c∆° b·∫£n</h4>
                        <p>15/02/2024</p>
                    </div>
                    <div class="lesson-progress high">100%</div>
                </div>
                <div class="lesson-item">
                    <div class="lesson-info">
                        <h4>S·ªë ƒë·∫øm t·ª´ 1-10</h4>
                        <p>14/02/2024</p>
                    </div>
                    <div class="lesson-progress medium">85%</div>
                </div>
                <div class="lesson-item">
                    <div class="lesson-info">
                        <h4>T·ª´ v·ª±ng gia ƒë√¨nh</h4>
                        <p>13/02/2024</p>
                    </div>
                    <div class="lesson-progress low">75%</div>
                </div>
            </div>
        </section>
    </main>

    <footer class ="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>SignLearn</h3>
                <p>N·ªÅn t·∫£ng h·ªçc ng√¥n ng·ªØ k√Ω hi·ªáu tr·ª±c tuy·∫øn h√†ng ƒë·∫ßu Vi·ªát Nam</p>
            </div>
            <div class="footer-section">
                <h3>Kh√≥a h·ªçc</h3>
                <ul class="footer-links">
                    <li><a href="#">Kh√≥a h·ªçc c∆° b·∫£n</a></li>
                    <li><a href="#">Kh√≥a h·ªçc n√¢ng cao</a></li>
                    <li><a href="#">H·ªçc thao ch·ªß ƒë·ªÅ</a></li>
                    <li><a href="#">T·ª´ ƒëi·ªÉn</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>H·ªó tr·ª£</h3>
                <ul class="footer-links">
                    <li><a href="#">H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng</a></li>
                    <li><a href="#">C√¢u h·ªèi th∆∞·ªùng g·∫∑p</a></li>
                    <li><a href="#">Li√™n h·ªá</a></li>
                    <li><a href="#">Ph·∫£n h·ªìi</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Theo d√µi ch√∫ng t√¥i</h3>
                <ul class="footer-links">
                    <li><a href="#">Facebook</a></li>
                    <li><a href="#">Youtube</a></li>
                    <li><a href="#">Instagram</a></li>
                    <li><a href="#">Twitter</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>¬© 2024 SignLearn. B·∫£o l∆∞u m·ªçi quy·ªÅn.</p>
        </div>
    </footer>
{% block extra_js %}{% endblock %}

<style>
.admin-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: #3b82f6;
    color: white;
    border-radius: 6px;
    text-decoration: none;
    font-size: 0.875rem;
    font-weight: 500;
    transition: background-color 0.2s;
}

.admin-btn:hover {
    background: #2563eb;
}

.admin-icon {
    font-size: 1.25rem;
}

.admin-text {
    display: none;
}

@media (min-width: 768px) {
    .admin-text {
        display: inline;
    }
}
</style>
</body>
</html>