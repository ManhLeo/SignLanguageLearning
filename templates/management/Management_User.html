{% load static %}

<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SignLearn - Qu·∫£n l√Ω ng∆∞·ªùi d√πng</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/management-user.css' %}">
</head>
<body>
    <header class="header">
        <div class="logo">
            <div class="logo-icon">SL</div>
            <span class="logo-text">SignLearn</span>
        </div>
        <nav class="nav">
            <a href="{% url 'learning:main_page' %}" class="nav-item">üè† Trang ch·ªß</a>
            <a href="{% url 'tutorials:tutorial_list' %}" class="nav-item">üìö H·ªçc t·∫≠p</a>
            <a href="{% url 'tutorials:practice_home' %}" class="nav-item">üß† Luy·ªán t·∫≠p</a>
            <a href="{% url 'recognition:home' %}" class="nav-item">ü§ñ AI</a>
            <a href="{% url 'accounts:profile' %}" class="nav-item">üìä Th·ªëng k√™</a>
        </nav>
        <div class="user-actions">
            <button class="notification-btn">üîî</button>
            {% if user.is_superuser %}
            <a href="/management/" class="admin-btn">
                <span class="admin-icon">‚öôÔ∏è</span>
                <span class="admin-text">Qu·∫£n l√Ω</span>
            </a>
            {% endif %}
            {% if user.userprofile.profile_picture %}
                <img src="{{ user.userprofile.profile_picture.url }}" alt="Profile Picture" class="user-avatar" id="profile-preview">
            {% else %}
                <div class="user-avatar bg-secondary text-white d-flex align-items-center justify-content-center" id="profile-preview">
                    {{ user.username|first|upper }}
                </div>
            {% endif %}
            {% if user.is_authenticated %}
                <form action="{% url 'accounts:logout' %}" method="post" style="display: inline;">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-outline">ƒêƒÉng xu·∫•t</button>
                </form>
            {% endif %}
        </div>
    </header>

    <div class="container">
        <!-- Main Content -->
        <main class="main-content">
            <div class="page-header">
                <h1>Qu·∫£n l√Ω ng∆∞·ªùi d√πng</h1>
            </div>

            <!-- Controls -->
            <div class="controls">
                <div class="search-container">
                    <input type="text" placeholder="T√¨m ki·∫øm ng∆∞·ªùi d√πng..." class="search-input">
                </div>
                <div class="control-buttons">
                    <a href="{% url 'management:user_form' %}" class="btn btn-primary">+ Th√™m ng∆∞·ªùi d√πng</a>
                    <select class="status-filter">
                        <option>Tr·∫°ng th√°i</option>
                        <option>Ho·∫°t ƒë·ªông</option>
                        <option>Kh√¥ng ho·∫°t ƒë·ªông</option>
                    </select>
                    <select class="date-filter">
                        <option>Ng√†y tham gia</option>
                        <option>H√¥m nay</option>
                        <option>Tu·∫ßn n√†y</option>
                        <option>Th√°ng n√†y</option>
                    </select>
                </div>
            </div>

            <!-- User Table -->
            <div class="table-container">
                <table class="user-table">
                    <thead>
                        <tr>
                            <th>Ng∆∞·ªùi d√πng</th>
                            <th>Email</th>
                            <th>H·ªç v√† t√™n ƒë·ªám</th>
                            <th>T√™n</th>
                            <th>Ng√†y tham gia</th>
                            <th>T√°c v·ª•</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for user in users %}
                        <tr>
                            <td>
                                <div class="user-info">
                                    <div class="user-avatar-table">{{ user.username|first|upper }}</div>
                                    <span class="user-name">{{ user.username }}</span>
                                </div>
                            </td>
                            <td>{{ user.email }}</td>
                            <td>{{ user.first_name }}</td>
                            <td>{{ user.last_name }}</td>
                            <td>{{ user.date_joined|date:"d/m/Y" }}</td>
                            <td>
                                <div class="action-buttons">
                                    <a href="{% url 'management:edit_user_profile' user.id %}" class="action-btn edit">‚úèÔ∏è</a>
                                    <a href="{% url 'management:toggle_user_status' user.id %}" class="action-btn {% if user.is_active %}delete{% else %}activate{% endif %}">{% if user.is_active %}üîí{% else %}üîì{% endif %}</a>
                                </div>
                            </td>
                        </tr>
                        {% empty %}
                        <tr>
                            <td colspan="8">Kh√¥ng c√≥ ng∆∞·ªùi d√πng n√†o.</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

        </main>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>SignLearn</h4>
                <p>Gi√∫p m·ªçi ng∆∞·ªùi ti·∫øp c·∫≠n v·ªõi ng√¥n ng·ªØ k√Ω hi·ªáu ƒë·ªÉ d·ªÖ d√†ng h∆°n th√¥ng qua c√¥ng ngh·ªá.</p>
            </div>
            <div class="footer-section">
                <h4>S·∫£n ph·∫©m</h4>
                <a href="#">T√≠nh nƒÉng</a>
                <a href="#">B·∫£ng gi√°</a>
                <a href="#">H∆∞·ªõng d·∫´n</a>
                <a href="#">C·∫≠p nh·∫≠t</a>
            </div>
            <div class="footer-section">
                <h4>C√¥ng ty</h4>
                <a href="#">V·ªÅ ch√∫ng t√¥i</a>
                <a href="#">Blog</a>
                <a href="#">ƒê·ªëi t√°c</a>
                <a href="#">Li√™n h·ªá</a>
            </div>
            <div class="footer-section">
                <h4>H·ªó tr·ª£</h4>
                <a href="#">Trung t√¢m tr·ª£ gi√∫p</a>
                <a href="#">ƒêi·ªÅu kho·∫£n</a>
                <a href="#">B·∫£o m·∫≠t</a>
                <a href="#">Cookie</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>¬© 2024 SignLearn. ƒê√£ ƒëƒÉng k√Ω b·∫£n quy·ªÅn.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'management/js/management-main.js' %}"></script>
</body>
</html>
